---
title: "maldipickr Workflow with targets"
output: rmarkdown::html_vignette
vignette: >
  %\VignetteIndexEntry{maldipickr-workflow-with-targets}
  %\VignetteEngine{knitr::rmarkdown}
  %\VignetteEncoding{UTF-8}
---

```{r, include = FALSE}
knitr::opts_chunk$set(
  collapse = TRUE,
  comment = "#>"
)
```

```{r setup}
library(maldipickr)
```

<!-- WARNING - This vignette is generated by {fusen} from dev/maldipickr-workflow-with-targets.Rmd: do not edit by hand -->

Simultaneous bacterial isolation efforts require rapid dereplication of bacteria, if not their identification, to reduce the redundancy of isolates.

To this end,  the workhorse functions of [`{maldipickr}`](https://github.com/ClavelLab/maldipickr)
help import and then analyze MALDI-TOF spectra to dereplicate and cherry-pick mass spectrometry spectra.
The vignettes ["Import data from Bruker MALDI Biotyper"](https://clavellab.github.io/maldipickr/articles/import-data-from-bruker-maldi-biotyper.html) and ["Dereplicate Bruker MALDI Biotyper spectra"](https://clavellab.github.io/maldipickr/articles/dereplicate-bruker-maldi-biotyper-spectra.html) explain these functions in details if need be.


This vignette showcase functions to facilitate reproducible and trustworthy workflow development `{maldipickr}` (using [`{targets}`](https://docs.ropensci.org/targets/)). We invite readers unfamiliar with {targets} to read the short and well-written walk-through ["How to use {targets}"](https://books.ropensci.org/targets/walkthrough.html) to understand how {targets} help analysts "coordinate the pieces of computationally demanding analysis projects" and "skips costly runtime for tasks that are already up to date" (source: <https://cran.r-project.org/package=targets>).


These helpers in `{maldipickr}` are called {targets} factories, which means they return target objects or lists of target objects. 




# tar_import_and_process_spectra

    

  

```{r example-tar_import_and_process_spectra}
if (Sys.getenv("TAR_LONG_EXAMPLES") == "true") {
  targets::tar_dir({ # tar_dir() runs code from a temporary directory.
    targets::tar_script({
        library(maldipickr)
        list(
          tar_spectra_import(
            name = "example",
            raw_spectra_directories = system.file(
              "toy-species-spectra",
              package = "maldipickr"),
            tolerance = 1
          )
        )},ask = FALSE)
    targets::tar_make()
  })
}
```

  

  


